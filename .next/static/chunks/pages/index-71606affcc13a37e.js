(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8638)}])},8638:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var l=n(5893),a=n(4829),r=n(7294),i=n(5675),s=n.n(i),o=n(7568),c=n(4924),d=n(6042),m=n(9396),$=n(655),u=n(728),x=function(e){return(0,l.jsxs)(u.V.Panel,{className:"w-full max-w-md p-6 overflow-hidden text-center align-middle transition-all transform shadow-2xl rounded-3xl bg-green-50",children:[(0,l.jsx)(u.V.Title,{as:"h3",className:"text-xl font-bold leading-6 text-green-900 md:text-2xl",children:"Request an invite"}),(0,l.jsx)("hr",{className:"w-16 mx-auto my-8 border border-green-600"}),(0,l.jsx)("form",{method:"POST",children:(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 md:gap-6",children:[(0,l.jsxs)("div",{className:"col-span-full",children:[(0,l.jsx)("input",{placeholder:"Full Name",type:"text",name:"fullName",onChange:e.handleChange,value:e.inputValues.fullName,className:"w-full px-6 py-2 text-sm border border-green-600 outline-none rounded-3xl md:text-base focus:ring-2 focus:ring-green-600"}),e.validation.fullName&&(0,l.jsx)("p",{id:"error-full-name",className:"pt-1 text-xs text-red-600",children:e.validation.fullName})]}),(0,l.jsxs)("div",{className:"col-span-full",children:[(0,l.jsx)("input",{placeholder:"Email",type:"email",name:"email",onChange:e.handleChange,value:e.inputValues.email.trim(),className:"w-full px-6 py-2 text-sm border border-green-600 outline-none rounded-3xl md:text-base focus:ring-2 focus:ring-green-600"}),e.validation.email&&(0,l.jsx)("p",{id:"error-email",className:"pt-1 text-xs text-red-600",children:e.validation.email})]}),(0,l.jsxs)("div",{className:"col-span-full",children:[(0,l.jsx)("input",{placeholder:"Confirm Email",type:"text",name:"confirmEmail",onChange:e.handleChange,value:e.inputValues.confirmEmail.trim(),className:"w-full px-6 py-2 text-sm border border-green-600 outline-none rounded-3xl md:text-base focus:ring-2 focus:ring-green-600"}),e.validation.confirmEmail&&(0,l.jsx)("p",{id:"error-confirm-email",className:"pt-1 text-xs text-red-600",children:e.validation.confirmEmail})]}),(0,l.jsx)("button",{className:"justify-center py-1 mt-2 font-medium text-green-900 border border-green-600 col-span-full rounded-3xl md:text-base md:py-2 md:mt-4 hover:bg-green-900 hover:text-green-50 disabled:hover:bg-green-50 disabled:hover:text-green-800",disabled:e.disableSubmit,onClick:e.handleSubmit,children:e.sendMessage}),(0,l.jsx)("div",{className:"col-span-full",children:e.backendError&&(0,l.jsx)("p",{id:"error-backend",className:"pt-2 text-xs text-red-600",children:e.backendError})})]})})]})},h=function(e){return(0,l.jsxs)(u.V.Panel,{className:"w-full max-w-md p-6 overflow-hidden text-center align-middle transition-all transform shadow-2xl rounded-3xl bg-green-50",children:[(0,l.jsx)(u.V.Title,{as:"h3",className:"text-xl font-bold leading-6 text-green-900 md:text-2xl",children:"All done!"}),(0,l.jsx)("hr",{className:"w-16 mx-auto my-8 border border-green-600"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,l.jsx)("p",{className:"text-sm text-green-900 col-span-full md:text-base",children:"You will be one of the first to experience Broccoli & Co. when we launch."}),(0,l.jsx)("button",{type:"button",className:"justify-center py-1 mt-2 font-medium text-green-800 border border-green-600 col-span-full rounded-3xl md:text-base md:py-2 md:mt-4 hover:bg-green-900 hover:text-green-50 disabled:hover:bg-green-100 disabled:hover:text-green-800",onClick:e.closeModal,children:"OK"})]})]})},f=function(e){var t={fullName:"",email:"",confirmEmail:""},n=RegExp(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);e.fullName.trim()?e.fullName.trim().length<3&&(t.fullName="Full name needs to be at least 3 characters long :("):t.fullName="Full name is required",e.email?n.test(e.email)||(t.email="Email is not valid :("):t.email="Email is required",e.confirmEmail?e.confirmEmail!==e.email&&(t.confirmEmail="Email doesn't match :("):t.confirmEmail="Email confirmation is required",console.log(t.fullName),console.log(t.email),console.log(t.confirmEmail);var l=""===t.fullName&&""===t.email&&""===t.confirmEmail;return console.log(l),{isValid:l,errors:t}},g={fullName:"",email:"",confirmEmail:""},p=function(){var e,t=(0,r.useState)(!1),n=t[0],i=t[1],s=(0,r.useState)(!1),p=s[0],b=s[1],j=(0,r.useState)(!1),N=j[0],v=j[1],y=(0,r.useState)("Send"),_=y[0],w=y[1],E=(0,r.useState)(""),k=E[0],C=E[1],S=(0,r.useState)(g),V=S[0],T=S[1],F=(0,r.useState)(g),M=F[0],B=F[1],P=function(){v(!1),w("Send"),C(""),T(g),B(g),i(!1)},q=function(){i(!0)},O=function(e){var t=e.target,n=t.name,l=t.value;T((0,m.Z)((0,d.Z)({},V),(0,c.Z)({},n,l)))};(0,r.useEffect)(function(){f(V)},[V]);var Z=(e=(0,o.Z)(function(e){var t,n,l,a;return(0,$.__generator)(this,function(r){switch(r.label){case 0:var i;if(e.preventDefault(),n=(t=f(V)).isValid,l=t.errors,!n)return[3,2];return C(""),B(g),b(!0),w("Sending, please wait..."),[4,fetch("https://us-central1-blinkapp-684c1.cloudfunctions.net/fakeAuth",((a={}).method="POST",a.headers={"Content-Type":"application/json"},a.body=JSON.stringify({name:V.fullName,email:V.email}),a)).then((i=(0,o.Z)(function(e){var t;return(0,$.__generator)(this,function(n){switch(n.label){case 0:if(!e.ok)return[3,1];return C(""),v(!0),[3,3];case 1:if(e.ok)return[3,3];return[4,e.json()];case 2:C((t=n.sent()).errorMessage),w("Send"),n.label=3;case 3:return b(!1),[2]}})}),function(e){return i.apply(this,arguments)})).catch(function(e){console.log(e)})];case 1:return r.sent(),[3,3];case 2:n||B(l),r.label=3;case 3:return[2]}})}),function(t){return e.apply(this,arguments)});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex justify-center align-center",children:(0,l.jsx)("button",{type:"button",onClick:q,className:"w-64 py-2 text-xs font-medium text-green-900 border border-green-900 rounded-3xl md:text-base md:px-8 md:py-3 hover:bg-green-900 hover:text-green-50",children:"Request an invite"})}),(0,l.jsx)(a.u,{appear:!0,show:n,as:r.Fragment,children:(0,l.jsxs)(u.V,{as:"div",className:"relative z-10",open:n,onClose:P,children:[(0,l.jsx)(a.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex items-center justify-center min-h-full p-4 text-center",children:N?(0,l.jsx)(h,{closeModal:P}):(0,l.jsx)(x,{inviteSuccess:N,disableSubmit:p,sendMessage:_,backendError:k,inputValues:V,validation:M,handleChange:O,handleSubmit:Z})})})]})})]})},b=function(){return(0,l.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,l.jsx)("header",{className:"flex p-4 border-b border-green-600 align-center md:p-6",children:(0,l.jsx)("h1",{className:"text-xl font-black text-green-900 md:text-3xl",children:"Broccoli & Co."})}),(0,l.jsxs)("main",{className:"flex flex-col justify-center flex-1 p-8 text-center text-green-900 align-center",children:[(0,l.jsx)(a.u,{appear:!0,show:!0,enter:"transition-opacity duration-1500",enterFrom:"opacity-0",enterTo:"opacity-100",children:(0,l.jsx)("h1",{className:"text-2xl font-black text-green-900 md:text-6xl",children:"A better way to enjoy every day."})}),(0,l.jsx)("p",{className:"mt-6 text-sm text-green-900 md:text-xl md:mt-8",children:"Be the first to know when we launch."}),(0,l.jsx)("div",{className:"inline-flex justify-center h-12 my-6 md:my-8 md:h-24",children:(0,l.jsx)(s(),{src:"/chillBroccoli.png",alt:"Broccoli relaxing",width:100,height:100,className:"object-contain"})}),(0,l.jsx)(p,{})]}),(0,l.jsxs)("footer",{className:"flex flex-col p-4 text-center border-t border-green-600 md:p-6",children:[(0,l.jsxs)("p",{className:"text-xs text-green-900 md:text-base",children:["Made with",(0,l.jsx)("span",{className:"inline-flex h-4 mx-1",children:(0,l.jsx)(s(),{src:"/heart.svg",alt:"Heart",width:20,height:20,className:"object-contain"})}),"in Melbourne"]}),(0,l.jsx)("p",{className:"text-xs italic text-green-900 md:text-base",children:"@ 2018 Broccoli & Co. All rights reserved."})]})]})}}},function(e){e.O(0,[884,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);